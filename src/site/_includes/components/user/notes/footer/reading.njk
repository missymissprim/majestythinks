<script>
	var content = document.getElementsByClassName("content");
	var new_width = content[0].offsetWidth;
	var reading = document.getElementsByClassName("container");
			
	reading[0].style.width = `calc(${new_width}px + 4em)`;
	
	function resizeContainer() {
		new_width = content[0].offsetWidth;
		reading[0].style.width = `calc(${new_width}px + 4em)`;
	}

	window.addEventListener("resize", resizeContainer);
	
	let processScroll = () => {
		let docElem = document.documentElement, 
		docBody = document.body,
		scrollTop = docElem['scrollTop'] || docBody['scrollTop'],
		scrollBottom = (docElem['scrollHeight'] || docBody['scrollHeight']) - window.innerHeight,
		scrollPercent = scrollTop / scrollBottom * 100 + '%';

		// console.log(scrollTop + ' / ' + scrollBottom + ' / ' + scrollPercent);

		document.getElementById("progress-bar").style.setProperty("--scrollAmount", scrollPercent); 
	}

	document.addEventListener('scroll', processScroll);
</script>
